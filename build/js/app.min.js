const main=document.querySelector("main"),main2=document.getElementsByTagName("main"),body=document.querySelector(".body"),body2=document.getElementsByTagName("body"),html1=document.querySelector("#html"),html2=document.getElementsByTagName("html"),p=document.getElementsByTagName("p"),h1=document.getElementsByTagName("h1"),span=document.getElementsByTagName("span"),dnButton=document.querySelector(".style-button-toggle"),logo=document.querySelector("#logo");let dataLALA,dataXD;const searchInput=document.querySelector("#search"),countryList={countries:[]},showCountry=(e,t)=>{const n=document.createElement("div");n.classList.add("overlay"),logo.addEventListener("click",(function(e){console.log("hola"),clearContent(),init(dataLALA,"load"),console.log("hola"),T.classList.remove("hidden");try{n&&(console.log("hola"),n.remove()),body.classList.remove("fix-body"),T.classList.remove("position-absolute")}catch(e){console.log(e)}}));const o=document.createElement("div");o.classList.add("back_button");const a=document.createElement("button");a.classList.add("button"),a.textContent="Back",o.appendChild(a);const c=document.createElement("div");c.classList.add("flag");const l=document.createElement("img");l.src=t.flag,l.alt=t.countryName,console.log("."),c.appendChild(l);const s=document.createElement("p");s.textContent=t.countryName,s.classList.add("overlay__content-title");const i=document.createElement("div");i.classList.add("overlay__content-data");const r=document.createElement("p");r.innerHTML=`Native name: <span>${e.nativeName}</span>`;const d=document.createElement("p");d.innerHTML=`Population: <span>${t.population}</span>`;const u=document.createElement("p");u.innerHTML=`Region: <span>${t.region}</span>`;const m=document.createElement("p");m.innerHTML=`Sub region: <span>${e.subregion}</span>`;const p=document.createElement("p");p.innerHTML=`Capital: <span>${t.capital}</span>`;const g=document.createElement("p");g.innerHTML=`Top Level Domain: <span>${e.toplvldomain}</span>`;const h=document.createElement("p");h.innerHTML=`Currencies: <span>${e.currencies[0].name} ${e.currencies[0].code} ${e.currencies[0].symbol}</span>`;const L={lang:""};e.languages.forEach((function(e){const{lang:t}=L;L.lang=[...t,e.name+" "]}));const y=document.createElement("p");y.innerHTML=`Languages: <span>${L.lang}</span>`,i.appendChild(r),i.appendChild(d),i.appendChild(u),i.appendChild(m),i.appendChild(p),i.appendChild(g),i.appendChild(h),i.appendChild(y);const f=document.createElement("div");f.classList.add("overlay__content-border");const v=document.createElement("div");v.classList.add("overlay__content-border__title"),v.innerHTML="<p>Border countries :</p>";let C={country:""};e.borders.forEach((function(e){const{country:t}=C;C.country=[...t,`<span>${e}</span>`]}));const b=document.createElement("div");b.classList.add("overlay__content-border__countries"),C.country>1?C.country.forEach((function(e){b.innerHTML+=""+e})):C.country>0&&C.country<=1?C.country.forEach((function(e){b.innerHTML=""+e})):b.innerHTML=""+C.country,b.addEventListener("click",(function(e){let t=e.target.textContent;const o=dataLALA.filter(e=>e.alpha3Code.includes(t));clearContent(),init(o,"load"),n.remove(),body.classList.remove("fix-body"),T.classList.remove("position-absolute"),T.classList.remove("hidden")})),f.appendChild(v),f.appendChild(b);const E=document.createElement("div");E.classList.add("content"),E.appendChild(s),E.appendChild(i),E.appendChild(f);const A=document.createElement("div");A.classList.add("countryinfo"),A.appendChild(c),A.appendChild(E),n.appendChild(o),n.appendChild(A);const _=body.firstElementChild.nextElementSibling;body.insertBefore(n,_),window.scrollTo(0,0);const T=document.querySelector(".container");T.classList.add("hidden"),a.onclick=function(){n.remove(),body.classList.remove("fix-body"),T.classList.remove("position-absolute"),T.classList.remove("hidden")}},selectCountry=(e,t)=>{e.addEventListener("click",(function(n){const o=e.children,a=o[0].firstElementChild.src,c=o[1],l=c.children[1],s=c.children[2],i=c.children[3],r={flag:a,countryName:c.firstElementChild.textContent,population:l.children[0].textContent,region:s.children[0].textContent,capital:i.children[0].textContent};showCountry(t,r)}))},init=(e,t)=>{const n=document.querySelector(".countries-container");let o=0;e.forEach(a=>{if(n.childElementCount+1>e.length)return;const{flag:c,name:l,population:s,region:i,capital:r}=a;let{nativeName:d,subregion:u,topLevelDomain:m,currencies:p,languages:g,borders:h}=a,L=document.createElement("div");L.classList.add("card"),L.setAttribute("data-id",""+o),o++;let y=document.createElement("div");y.classList.add("card__image");let f=document.createElement("img"),v=document.createElement("div");v.classList.add("card__content");let C=document.createElement("p");C.classList.add("card__content-title");let b=document.createElement("p");b.classList.add("card__content-subtitle");let E=document.createElement("span");E.classList.add("card__content-span");let A=document.createElement("p");A.classList.add("card__content-subtitle");let _=document.createElement("span");_.classList.add("card__content-span");let T=document.createElement("p");T.classList.add("card__content-subtitle");let S=document.createElement("span");if(S.classList.add("card__content-span"),a.flagA?(f.src=a.flagA,f.alt=a.nameB,C.textContent=a.nameB,E.textContent=a.populationA,_.textContent=a.regionA,S.textContent=a.capitalA):(f.src=c,f.alt=l,C.textContent=l,E.textContent=s,_.textContent=i,S.textContent=r),y.appendChild(f),v.appendChild(C),v.appendChild(b),b.innerHTML=`Population: <span class="card__content-span">${E.textContent}</span>`,v.appendChild(A),A.innerHTML=`Region: <span class="card__content-span">${_.textContent}</span>`,v.appendChild(T),T.innerHTML=`Capital: <span class="card__content-span">${S.textContent}</span>`,L.appendChild(y),L.appendChild(v),n.appendChild(L),"search"===t){let e={nativeName:a.nativeNameA,subregion:a.subregionA,toplvldomain:a.toplvldomainA,currencies:a.currenciesA,languages:a.languagesA,borders:a.bordersA};selectCountry(L,e)}else if("load"===t){let e={nativeName:a.nativeName,subregion:a.subregion,toplvldomain:a.topLevelDomain,currencies:a.currencies,languages:a.languages,borders:a.borders};selectCountry(L,e)}})},launchApp=()=>{try{fetch("https://restcountries.com/v2/all").then((function(e){return console.log(e),e.json()})).then((function(e){init(e,"load"),getData(e),dataLALA=e,console.log(dataLALA)})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}},dnButtonF=()=>{dnButton.addEventListener("click",(function(){if(html1.classList.contains("night")){document.querySelector("#style-button-toggle__img").src="./build/img/moon.png";const n=document.querySelector(".style-button-toggle__span");n.innerHTML="",n.innerHTML="Night mode";for(var e=0,t=html2.length;e<t;e++)html2[e].classList.remove("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.remove("night");document.querySelector("#search").classList.remove("night");document.querySelector("#filter").classList.remove("night")}else{const n=document.querySelector(".style-button-toggle__span");n.innerHTML="",n.innerHTML="Day mode";document.querySelector("#style-button-toggle__img").src="./build/img/sun.png";for(e=0,t=html2.length;e<t;e++)html2[e].classList.add("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.add("night");document.querySelector("#search").classList.add("night");document.querySelector("#filter").classList.add("night")}}))},clearContent=e=>{const t=document.querySelector(".countries-container");for(;t.firstChild;)t.removeChild(t.firstChild)},showError=(e,t)=>{const n=document.querySelector(".countries-container"),o=document.createElement("p");o.classList.add(""+t),o.textContent=""+e,n.appendChild(o)},searchBar=e=>{const t=()=>{document.querySelector("#filter").value="All",showError("There's no country that matches with your search term, please, try again in English","error")},n=(e,t)=>e===t?2:e.startsWith(t)?1:e.includes(t)?0:void 0;searchInput.addEventListener("change",(function(e){let o=e.target.value;if(o&&o.trim().length>0)o=o.trim().toLowerCase(),(e=>{clearContent();for(const t of e){document.querySelector("#filter").value="All",init(e,"search")}0===e.length&&t()})(countryList.countries.filter(e=>e.nameA.includes(o)).sort((e,t)=>n(t.nameA,o)-n(e.nameA,o)));else{document.querySelector("#filter").value="All",clearContent(),backToStart(dataLALA)}}))},getData=e=>{e.forEach(e=>{const{flag:t,name:n,population:o,region:a,capital:c,nativeName:l,subregion:s,topLevelDomain:i,currencies:r,languages:d,borders:u}=e,m={flagA:e.flag,nameA:e.name.toLowerCase(),nameB:e.name,populationA:e.population,regionA:e.region,capitalA:e.capital,bordersA:e.borders,currenciesA:e.currencies,languagesA:e.languages,nativeNameA:e.nativeName,subregionA:e.subregion,toplvldomainA:e.topLevelDomain};addCountryToList(m)})},addCountryToList=e=>{const{countries:t}=countryList;countryList.countries=[...t,e],countryList.countries.length>=250&&searchBar(countryList.countries)},backToStart=e=>{init(e,"load")},filterInput=()=>{document.querySelector("#filter").addEventListener("change",(function(e){if("All"===this.value&&(clearContent(),init(dataLALA,"load")),"Europe"===this.value){clearContent();const e=dataLALA.filter(e=>e.region.includes("Europe"));searchInput.addEventListener("change",(function(){searchBar()})),init(e,"load")}if("Africa"===this.value){clearContent();const e=dataLALA.filter(e=>e.region.includes("Africa"));init(e,"load")}if("Oceania"===this.value){clearContent();const e=dataLALA.filter(e=>e.region.includes("Oceania"));init(e,"load")}if("Asia"===this.value){clearContent();const e=dataLALA.filter(e=>e.region.includes("Asia"));init(e,"load")}if("America"===this.value){clearContent();const e=dataLALA.filter(e=>e.region.includes("America"));init(e,"load")}}))};document.addEventListener("DOMContentLoaded",()=>{launchApp(),dnButton.addEventListener("click",(function(){if(html1.classList.contains("night")){document.querySelector("#style-button-toggle__img").src="./build/img/moon.png";const n=document.querySelector(".style-button-toggle__span");n.innerHTML="",n.innerHTML="Night mode";for(var e=0,t=html2.length;e<t;e++)html2[e].classList.remove("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.remove("night");document.querySelector("#search").classList.remove("night"),document.querySelector("#filter").classList.remove("night")}else{const n=document.querySelector(".style-button-toggle__span");for(n.innerHTML="",n.innerHTML="Day mode",document.querySelector("#style-button-toggle__img").src="./build/img/sun.png",e=0,t=html2.length;e<t;e++)html2[e].classList.add("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.add("night");document.querySelector("#search").classList.add("night"),document.querySelector("#filter").classList.add("night")}})),filterInput()});
//# sourceMappingURL=app.js.map
