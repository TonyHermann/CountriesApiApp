const main=document.querySelector("main"),main2=document.getElementsByTagName("main"),body=document.querySelector(".body"),body2=document.getElementsByTagName("body"),html1=document.querySelector("#html"),html2=document.getElementsByTagName("html"),p=document.getElementsByTagName("p"),h1=document.getElementsByTagName("h1"),span=document.getElementsByTagName("span"),dnButton=document.querySelector(".style-button-toggle"),showCountry=(e,t)=>{const n=document.createElement("div");n.classList.add("overlay");const a=document.createElement("div");a.classList.add("back_button");const o=document.createElement("button");o.classList.add("button"),o.textContent="Back",a.appendChild(o);const c=document.createElement("div");c.classList.add("flag");const s=document.createElement("img");s.src=t.flag,c.appendChild(s);const l=document.createElement("p");l.textContent=t.countryName,l.classList.add("overlay__content-title");const i=document.createElement("div");i.classList.add("overlay__content-data");const r=document.createElement("p");r.innerHTML=`Native name: <span>${e.nativeName}</span>`;const d=document.createElement("p");d.innerHTML=`Population: <span>${t.population}</span>`;const u=document.createElement("p");u.innerHTML=`Region: <span>${t.region}</span>`;const m=document.createElement("p");m.innerHTML=`Sub region: <span>${e.subregion}</span>`;const p=document.createElement("p");p.innerHTML=`Capital: <span>${t.capital}</span>`;const g=document.createElement("p");g.innerHTML=`Top Level Domain: <span>${e.toplvldomain}</span>`;const h=document.createElement("p");h.innerHTML=`Currencies: <span>${e.currencies[0].name} ${e.currencies[0].code} ${e.currencies[0].symbol}</span>`;const L={lang:""};e.languages.forEach((function(e){const{lang:t}=L;L.lang=[...t,e.name+" "]}));const y=document.createElement("p");y.innerHTML=`Languages: <span>${L.lang}</span>`,i.appendChild(r),i.appendChild(d),i.appendChild(u),i.appendChild(m),i.appendChild(p),i.appendChild(g),i.appendChild(h),i.appendChild(y);const b=document.createElement("div");b.classList.add("overlay__content-border");const C=document.createElement("div");C.classList.add("overlay__content-border__title"),C.innerHTML="<p>Border countries :</p>";let v={country:""};e.borders.forEach((function(e){const{country:t}=v;v.country=[...t,`<span>${e}</span>`]}));const _=document.createElement("div");_.classList.add("overlay__content-border__countries"),_.innerHTML=""+v.country,b.appendChild(C),b.appendChild(_);const f=document.createElement("div");f.classList.add("content"),f.appendChild(l),f.appendChild(i),f.appendChild(b);const E=document.createElement("div");E.classList.add("countryinfo"),E.appendChild(c),E.appendChild(f),n.appendChild(a),n.appendChild(E),o.onclick=function(){n.remove(),body.classList.remove("fix-body"),main.classList.remove("position-absolute")};const A=body.firstElementChild.nextElementSibling;body.insertBefore(n,A),body.classList.add("fix-body")},selectCountry=(e,t)=>{e.addEventListener("click",(function(n){const a=e.children,o=a[0].firstElementChild.src,c=a[1],s=c.children[1],l=c.children[2],i=c.children[3],r={flag:o,countryName:c.firstElementChild.textContent,population:s.children[0].textContent,region:l.children[0].textContent,capital:i.children[0].textContent};showCountry(t,r)}))},init=(e,t)=>{const n=document.querySelector(".countries-container");let a=0;e.forEach(o=>{if(n.childElementCount+1>e.length)return;const{flag:c,name:s,population:l,region:i,capital:r}=o;let{nativeName:d,subregion:u,topLevelDomain:m,currencies:p,languages:g,borders:h}=o,L=document.createElement("div");L.classList.add("card"),L.setAttribute("data-id",""+a),o.name===o.nameB?L.setAttribute("data-name",""+o.name):L.setAttribute("data-name",""+o.nameB),a++;let y=document.createElement("div");y.classList.add("card__image");let b=document.createElement("img"),C=document.createElement("div");C.classList.add("card__content");let v=document.createElement("p");v.classList.add("card__content-title");let _=document.createElement("p");_.classList.add("card__content-subtitle");let f=document.createElement("span");f.classList.add("card__content-span");let E=document.createElement("p");E.classList.add("card__content-subtitle");let A=document.createElement("span");A.classList.add("card__content-span");let T=document.createElement("p");T.classList.add("card__content-subtitle");let S=document.createElement("span");if(S.classList.add("card__content-span"),o.flagA?(b.src=o.flagA,v.textContent=o.nameB,f.textContent=o.populationA,A.textContent=o.regionA,S.textContent=o.capitalA):(b.src=c,v.textContent=s,f.textContent=l,A.textContent=i,S.textContent=r),y.appendChild(b),C.appendChild(v),C.appendChild(_),_.innerHTML=`Population: <span class="card__content-span">${f.textContent}</span>`,C.appendChild(E),E.innerHTML=`Region: <span class="card__content-span">${A.textContent}</span>`,C.appendChild(T),T.innerHTML=`Capital: <span class="card__content-span">${S.textContent}</span>`,L.appendChild(y),L.appendChild(C),n.appendChild(L),"search"===t){let e={nativeName:o.nativeNameA,subregion:o.subregionA,toplvldomain:o.toplvldomainA,currencies:o.currenciesA,languages:o.languagesA,borders:o.bordersA};selectCountry(L,e)}else if("load"===t){let e={nativeName:o.nativeName,subregion:o.subregion,toplvldomain:o.topLevelDomain,currencies:o.currencies,languages:o.languages,borders:o.borders};selectCountry(L,e)}})};let dataLALA;const launchApp=()=>{try{fetch("https://restcountries.eu/rest/v2/all").then((function(e){return console.log(e),e.json()})).then((function(e){init(e,"load"),getData(e),dataLALA=e})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}},dnButtonF=()=>{dnButton.addEventListener("click",(function(){if(html1.classList.contains("night")){document.querySelector("#style-button-toggle__img").src="./build/img/moon.png";const n=document.querySelector(".style-button-toggle__span");n.innerHTML="",n.innerHTML="Night mode";for(var e=0,t=html2.length;e<t;e++)html2[e].classList.remove("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.remove("night");document.querySelector("#search").classList.remove("night");document.querySelector("#filter").classList.remove("night")}else{const n=document.querySelector(".style-button-toggle__span");n.innerHTML="",n.innerHTML="Day mode";document.querySelector("#style-button-toggle__img").src="./build/img/sun.png";for(e=0,t=html2.length;e<t;e++)html2[e].classList.add("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.add("night");document.querySelector("#search").classList.add("night");document.querySelector("#filter").classList.add("night")}}))};let dataXD;const searchInput=document.querySelector("#search"),clearContent=e=>{const t=document.querySelector(".countries-container");for(;t.firstChild;)t.removeChild(t.firstChild)},searchBar=e=>{const t=()=>{},n=(e,t)=>e===t?2:e.startsWith(t)?1:e.includes(t)?0:void 0;searchInput.addEventListener("change",(function(e){let a=e.target.value;a&&a.trim().length>0?(a=a.trim().toLowerCase(),(e=>{clearContent();for(const t of e)init(e,"search");0===e.length&&t()})(countryList.countries.filter(e=>(e.nameA.includes(a),e.nameA.includes(a))).sort((e,t)=>n(t.nameA,a)-n(e.nameA,a)))):(clearContent(),backToStart(dataLALA))}))},countryList={countries:[]},getData=e=>{e.forEach(e=>{const{flag:t,name:n,population:a,region:o,capital:c,nativeName:s,subregion:l,topLevelDomain:i,currencies:r,languages:d,borders:u}=e,m={flagA:e.flag,nameA:e.name.toLowerCase(),nameB:e.name,populationA:e.population,regionA:e.region,capitalA:e.capital,bordersA:e.borders,currenciesA:e.currencies,languagesA:e.languages,nativeNameA:e.nativeName,subregionA:e.subregion,toplvldomainA:e.topLevelDomain};addCountryToList(m)})},addCountryToList=e=>{const{countries:t}=countryList;countryList.countries=[...t,e],countryList.countries.length>=250&&searchBar(countryList.countries)};document.addEventListener("DOMContentLoaded",()=>{launchApp(),dnButton.addEventListener("click",(function(){if(html1.classList.contains("night")){document.querySelector("#style-button-toggle__img").src="./build/img/moon.png";const n=document.querySelector(".style-button-toggle__span");n.innerHTML="",n.innerHTML="Night mode";for(var e=0,t=html2.length;e<t;e++)html2[e].classList.remove("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.remove("night");document.querySelector("#search").classList.remove("night"),document.querySelector("#filter").classList.remove("night")}else{const n=document.querySelector(".style-button-toggle__span");for(n.innerHTML="",n.innerHTML="Day mode",document.querySelector("#style-button-toggle__img").src="./build/img/sun.png",e=0,t=html2.length;e<t;e++)html2[e].classList.add("night");for(e=0,t=body2.length;e<t;e++)body2[e].classList.add("night");document.querySelector("#search").classList.add("night"),document.querySelector("#filter").classList.add("night")}}))});const backToStart=e=>{init(e,"load")};
//# sourceMappingURL=app.js.map
